var Stockfish=(()=>{var _scriptName=typeof document!="undefined"?document.currentScript?.src:undefined;return async function(moduleArg={}){var moduleRtn;var f=moduleArg,aa="object"==typeof window,k="undefined"!=typeof WorkerGlobalScope,q="object"==typeof process&&process.versions?.node&&"renderer"!=process.type,r=k&&self.name?.startsWith("em-pthread");if(q){var ba=require("worker_threads");global.Worker=ba.Worker;r=(k=!ba.cc)&&"em-pthread"==ba.workerData}f.postCustomMessage=a=>{for(let b of u)b.postMessage({cmd:"custom",userData:a})};
class ca{constructor(){this.ka=null;this.Ba=[]}async get(){return 0<this.Ba.length?this.Ba.shift():await new Promise(a=>this.ka=a)}put(a){this.ka?(this.ka(a),this.ka=null):this.Ba.push(a)}}f.queue=new ca;f.onCustomMessage=a=>{f.queue.put(a)};f.postMessage=f.postCustomMessage;const da=[];f.addMessageListener=a=>{da.push(a)};f.removeMessageListener=a=>{a=da.indexOf(a);0<=a&&da.splice(a,1)};f.print=f.printErr=a=>{if(0===da.length)console.log(a);else for(let b of da)b(a)};f.terminate=()=>{ha()};
var ia=[],ja="./this.program",ka=(a,b)=>{throw b;};"undefined"!=typeof __filename?_scriptName=__filename:k&&(_scriptName=self.location.href);var la="",ma,na;
if(q){var fs=require("fs");la=__dirname+"/";na=a=>{a=oa(a)?new URL(a):a;return fs.readFileSync(a)};ma=async a=>{a=oa(a)?new URL(a):a;return fs.readFileSync(a,void 0)};1<process.argv.length&&(ja=process.argv[1].replace(/\\/g,"/"));ia=process.argv.slice(2);ka=(a,b)=>{process.exitCode=a;throw b;}}else if(aa||k){try{la=(new URL(".",_scriptName)).href}catch{}q||(k&&(na=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),ma=async a=>
{a=await fetch(a,{credentials:"same-origin"});if(a.ok)return a.arrayBuffer();throw Error(a.status+" : "+a.url);})}var pa=console.log.bind(console),qa=console.error.bind(console);if(q){var sa=require("util"),ta=a=>"object"==typeof a?sa.inspect(a):a;pa=(...a)=>fs.writeSync(1,a.map(ta).join(" ")+"\n");qa=(...a)=>fs.writeSync(2,a.map(ta).join(" ")+"\n")}var ua=pa,v=qa,va,x=!1,wa,oa=a=>a.startsWith("file://");function y(){z.buffer!=B.buffer&&xa()}var ya,za;
if(q&&r){var Aa=ba.parentPort;Aa.on("message",a=>global.onmessage?.({data:a}));Object.assign(globalThis,{self:global,postMessage:a=>Aa.postMessage(a)});process.on("uncaughtException",a=>{postMessage({ra:"uncaughtException",error:a});process.exit(1)})}var Ba;
if(r){var Ca=!1;self.onunhandledrejection=b=>{throw b.reason||b;};function a(b){try{var c=b.data,d=c.ra;if("load"===d){let e=[];self.onmessage=g=>e.push(g);Ba=()=>{postMessage({ra:"loaded"});for(let g of e)a(g);self.onmessage=a};for(const g of c.ub)if(!f[g]||f[g].proxy)f[g]=(...h)=>{postMessage({ra:"callHandler",tb:g,args:h})},"print"==g&&(ua=f[g]),"printErr"==g&&(v=f[g]);z=c.Ib;xa();va=c.Jb;Da();Ea()}else if("run"===d){Fa(c.ya);Ga(c.ya,0,0,1,0,0);Ha();Ia(c.ya);Ca||=!0;try{Ja(c.Eb,c.La)}catch(e){if("unwind"!=
e)throw e;}}else"setimmediate"!==c.target&&("checkMailbox"===d?Ca&&Ka():d&&(v(`worker: received unknown command ${d}`),v(c)))}catch(e){throw La(),e;}}self.onmessage=a}var z,B,Ma,Na,E,G,Oa,H,Pa=!1;function xa(){var a=z.buffer;B=new Int8Array(a);Na=new Int16Array(a);Ma=new Uint8Array(a);new Uint16Array(a);E=new Int32Array(a);G=new Uint32Array(a);new Float32Array(a);Oa=new Float64Array(a);H=new BigInt64Array(a);new BigUint64Array(a)}function Qa(){Pa=!0;r?Ba():(f.noFSInit||J.Pa||Ra(),K.I(),J.cb=!1)}
function Sa(a){a="Aborted("+a+")";v(a);x=!0;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");za?.(a);throw a;}var Ta;async function Ua(a){try{var b=await ma(a);return new Uint8Array(b)}catch{}if(na)a=na(a);else throw"both async and sync fetching of the wasm failed";return a}async function Va(a,b){try{var c=await Ua(a);return await WebAssembly.instantiate(c,b)}catch(d){v(`failed to asynchronously prepare wasm: ${d}`),Sa(d)}}
async function Wa(a){var b=Ta;if(!q)try{var c=fetch(b,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(c,a)}catch(d){v(`wasm streaming compile failed: ${d}`),v("falling back to ArrayBuffer instantiation")}return Va(b,a)}function Xa(){Ya={A:Za,f:$a,k:ab,v:bb,i:cb,l:db,G:eb,y:fb,C:gb,o:hb,g:ib,F:Ia,e:jb,D:kb,E:lb,p:mb,q:nb,B:ob,h:pb,j:qb,z:rb,c:sb,x:tb,m:ub,H:vb,r:wb,s:xb,b:yb,d:zb,u:Ab,t:Bb,w:Cb,a:z,n:Db};return{a:Ya}}
async function Da(){function a(c,d){var e=K=c.exports;c={};for(let [g,h]of Object.entries(e))"function"==typeof h?(e=Eb(h),c[g]=e):c[g]=h;K=c;Fb.push(K.L);va=d;d=K;f._main=d.J;Gb=d.K;Hb=d.M;Ib=d.N;f.__emscripten_proxy_main=Jb=d.O;Ga=d.P;La=d.Q;Kb=d.R;Lb=d.S;Mb=d.T;Nb=d.U;Ob=d.V;Pb=d.W;Qb=d.X;Rb=d.Y;Sb=d.Z;Tb=d._;Ub=d.$;dynCall_vi=d.aa;dynCall_iii=d.ba;dynCall_v=d.ca;dynCall_vii=d.da;Vb=d.ua;Wb=d.va;Xb=d.wa;Yb=d.xa;return K}var b=Xa();if(r)return b=new WebAssembly.Instance(va,Xa()),a(b,va);Ta??=la+
"sf14-nnue.wasm";return function(c){return a(c.instance,c.module)}(await Wa(b))}class Zb{name="ExitStatus";constructor(a){this.message=`Program terminated with exit(${a})`;this.status=a}}
var $b=a=>{a.terminate();a.onmessage=()=>{}},ac=[],cc=a=>{if(0==L.length){var b=new Worker(_scriptName,{workerData:"em-pthread",name:"em-pthread"});L.push(b);bc()}b=L.pop();if(!b)return 6;u.push(b);M[a.ya]=b;b.ya=a.ya;var c={ra:"run",Eb:a.Db,La:a.La,ya:a.ya};q&&b.unref();b.postMessage(c,a.jb);return 0},N=0,ub=()=>0<N,O=(a,b,...c)=>{for(var d=2*c.length,e=Tb(),g=Sb(8*d),h=g>>3,l=0;l<c.length;l++){var p=c[l];"bigint"==typeof p?((y(),H)[h+2*l]=1n,(y(),H)[h+2*l+1]=p):((y(),H)[h+2*l]=0n,(y(),Oa)[h+2*l+
1]=p)}a=Lb(a,0,d,g,b);Rb(e);return a};function Db(a){if(r)return O(0,1,a);wa=a;0<N||(ha(),x=!0);ka(a,new Zb(a))}function dc(a){if(r)return O(1,0,a);--N;yb(a)}var yb=a=>{wa=a;if(r)throw dc(a),"unwind";Db(a)},L=[],u=[],Fb=[],M={},ha=()=>{for(var a of u)$b(a);for(a of L)$b(a);L=[];u=[];M={}},ec=a=>{var b=a.ya;delete M[b];L.push(a);u.splice(u.indexOf(a),1);a.ya=0;q&&a.unref();Mb(b)};function Ha(){Fb.forEach(a=>a())}
var bc=()=>{var a=L[0];new Promise(b=>{a.onmessage=g=>{var h=g.data;g=h.ra;if(h.Ka&&h.Ka!=Hb()){var l=M[h.Ka];l?l.postMessage(h,h.jb):v(`Internal error! Worker sent a message "${g}" to target pthread ${h.Ka}, but that thread no longer exists!`)}else if("checkMailbox"===g)Ka();else if("spawnThread"===g)cc(h);else if("cleanupThread"===g)fc(()=>{ec(M[h.Fb])});else if("loaded"===g)a.loaded=!0,b(a);else if("setimmediate"===h.target)a.postMessage(h);else if("uncaughtException"===g)a.onerror(h.error);else if("callHandler"===
g)f[h.tb](...h.args);else g&&v(`worker sent an unknown command ${g}`)};a.onerror=g=>{v(`${"worker sent an error!"} ${g.filename}:${g.lineno}: ${g.message}`);throw g;};q&&(a.on("message",g=>a.onmessage({data:g})),a.on("error",g=>a.onerror(g)));var c=[],d=[],e;for(e of d)f.propertyIsEnumerable(e)&&c.push(e);a.postMessage({ra:"load",ub:c,Ib:z,Jb:va})})};function Fa(a){var b=(y(),G)[a+52>>2];a=(y(),G)[a+56>>2];Qb(b,b-a);Rb(b)}var Ja=(a,b)=>{N=0;a=Ub(a,b);0<N?wa=a:Nb(a)};
function gc(a,b,c,d){return r?O(2,1,a,b,c,d):Za(a,b,c,d)}
var Za=(a,b,c,d)=>{if("undefined"==typeof SharedArrayBuffer)return 6;var e=[];if(r&&0===e.length)return gc(a,b,c,d);a={Db:c,ya:a,La:d,jb:e};return r?(a.ra="spawnThread",postMessage(a,e),0):cc(a)},P=()=>{var a=(y(),E)[+hc>>2];hc+=4;return a},ic=(a,b)=>{for(var c=0,d=a.length-1;0<=d;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},jc=a=>{var b="/"===a.charAt(0),c="/"===a.slice(-1);(a=ic(a.split("/").filter(d=>!!d),!b).join("/"))||
b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a},kc=a=>{var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&=b.slice(0,-1);return a+b},Q=a=>a&&a.match(/([^\/]+|\/)\/*$/)[1],lc=(a,b)=>jc(a+"/"+b),mc=()=>{if(q){var a=require("crypto");return b=>a.randomFillSync(b)}return b=>b.set(crypto.getRandomValues(new Uint8Array(b.byteLength)))},nc=a=>{(nc=mc())(a)},oc=(...a)=>{for(var b="",c=!1,d=a.length-1;-1<=d&&!c;d--){c=0<=d?a[d]:J.cwd();
if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";b=c+"/"+b;c="/"===c.charAt(0)}b=ic(b.split("/").filter(e=>!!e),!c).join("/");return(c?"/":"")+b||"."},pc=(a,b)=>{function c(h){for(var l=0;l<h.length&&""===h[l];l++);for(var p=h.length-1;0<=p&&""===h[p];p--);return l>p?[]:h.slice(l,p-l+1)}a=oc(a).slice(1);b=oc(b).slice(1);a=c(a.split("/"));b=c(b.split("/"));for(var d=Math.min(a.length,b.length),e=d,g=0;g<d;g++)if(a[g]!==b[g]){e=g;break}d=[];for(g=
e;g<a.length;g++)d.push("..");d=d.concat(b.slice(e));return d.join("/")},qc="undefined"!=typeof TextDecoder?new TextDecoder:void 0,rc=(a,b=0)=>{var c=b;for(var d=c+void 0;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&qc)return qc.decode(a.buffer instanceof ArrayBuffer?a.subarray(b,c):a.slice(b,c));for(d="";b<c;){var e=a[b++];if(e&128){var g=a[b++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|g);else{var h=a[b++]&63;e=224==(e&240)?(e&15)<<12|g<<6|h:(e&7)<<18|g<<12|h<<6|a[b++]&63;65536>e?d+=String.fromCharCode(e):
(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023))}}else d+=String.fromCharCode(e)}return d},sc=[],tc=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);127>=d?b++:2047>=d?b+=2:55296<=d&&57343>=d?(b+=4,++c):b+=3}return b},uc=(a,b,c,d)=>{if(!(0<d))return 0;var e=c;d=c+d-1;for(var g=0;g<a.length;++g){var h=a.codePointAt(g);if(127>=h){if(c>=d)break;b[c++]=h}else if(2047>=h){if(c+1>=d)break;b[c++]=192|h>>6;b[c++]=128|h&63}else if(65535>=h){if(c+2>=d)break;b[c++]=224|h>>12;b[c++]=128|h>>
6&63;b[c++]=128|h&63}else{if(c+3>=d)break;b[c++]=240|h>>18;b[c++]=128|h>>12&63;b[c++]=128|h>>6&63;b[c++]=128|h&63;g++}}b[c]=0;return c-e},vc=a=>{var b=Array(tc(a)+1);a=uc(a,b,0,b.length);b.length=a;return b},wc=[];function xc(a,b){wc[a]={input:[],output:[],Aa:b};yc(a,zc)}
var zc={open(a){var b=wc[a.node.rdev];if(!b)throw new J.ea(43);a.tty=b;a.seekable=!1},close(a){a.tty.Aa.fsync(a.tty)},fsync(a){a.tty.Aa.fsync(a.tty)},read(a,b,c,d){if(!a.tty||!a.tty.Aa.$a)throw new J.ea(60);for(var e=0,g=0;g<d;g++){try{var h=a.tty.Aa.$a(a.tty)}catch(l){throw new J.ea(29);}if(void 0===h&&0===e)throw new J.ea(6);if(null===h||void 0===h)break;e++;b[c+g]=h}e&&(a.node.atime=Date.now());return e},write(a,b,c,d){if(!a.tty||!a.tty.Aa.Ua)throw new J.ea(60);try{for(var e=0;e<d;e++)a.tty.Aa.Ua(a.tty,
b[c+e])}catch(g){throw new J.ea(29);}d&&(a.node.mtime=a.node.ctime=Date.now());return e}},Ac={$a(){a:{if(!sc.length){var a=null;if(q){var b=Buffer.alloc(256),c=0,d=process.stdin.fd;try{c=fs.readSync(d,b,0,256)}catch(e){if(e.toString().includes("EOF"))c=0;else throw e;}0<c&&(a=b.slice(0,c).toString("utf-8"))}else"undefined"!=typeof window&&"function"==typeof window.prompt&&(a=window.prompt("Input: "),null!==a&&(a+="\n"));if(!a){a=null;break a}sc=vc(a)}a=sc.shift()}return a},Ua(a,b){null===b||10===
b?(ua(rc(a.output)),a.output=[]):0!=b&&a.output.push(b)},fsync(a){0<a.output?.length&&(ua(rc(a.output)),a.output=[])},vb(){return{Pb:25856,Rb:5,Ob:191,Qb:35387,Nb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},wb(){return 0},xb(){return[24,80]}},Bc={Ua(a,b){null===b||10===b?(v(rc(a.output)),a.output=[]):0!=b&&a.output.push(b)},fsync(a){0<a.output?.length&&(v(rc(a.output)),a.output=[])}},Cc=a=>{a=65536*Math.ceil(a/65536);var b=Ib(65536,a);b&&(y(),Ma).fill(0,b,b+a);return b},
R={ta:null,ia(){return R.createNode(null,"/",16895,0)},createNode(a,b,c,d){if(24576===(c&61440)||J.isFIFO(c))throw new J.ea(63);R.ta||(R.ta={dir:{node:{oa:R.fa.oa,qa:R.fa.qa,lookup:R.fa.lookup,za:R.fa.za,rename:R.fa.rename,unlink:R.fa.unlink,rmdir:R.fa.rmdir,readdir:R.fa.readdir,symlink:R.fa.symlink},stream:{ma:R.ga.ma}},file:{node:{oa:R.fa.oa,qa:R.fa.qa},stream:{ma:R.ga.ma,read:R.ga.read,write:R.ga.write,Da:R.ga.Da,Fa:R.ga.Fa}},link:{node:{oa:R.fa.oa,qa:R.fa.qa,readlink:R.fa.readlink},stream:{}},
Wa:{node:{oa:R.fa.oa,qa:R.fa.qa},stream:J.nb}});c=J.createNode(a,b,c,d);S(c.mode)?(c.fa=R.ta.dir.node,c.ga=R.ta.dir.stream,c.ha={}):J.isFile(c.mode)?(c.fa=R.ta.file.node,c.ga=R.ta.file.stream,c.ja=0,c.ha=null):40960===(c.mode&61440)?(c.fa=R.ta.link.node,c.ga=R.ta.link.stream):8192===(c.mode&61440)&&(c.fa=R.ta.Wa.node,c.ga=R.ta.Wa.stream);c.atime=c.mtime=c.ctime=Date.now();a&&(a.ha[b]=c,a.atime=a.mtime=a.ctime=c.atime);return c},bc(a){return a.ha?a.ha.subarray?a.ha.subarray(0,a.ja):new Uint8Array(a.ha):
new Uint8Array(0)},fa:{oa(a){var b={};b.dev=8192===(a.mode&61440)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;S(a.mode)?b.size=4096:J.isFile(a.mode)?b.size=a.ja:40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.atime=new Date(a.atime);b.mtime=new Date(a.mtime);b.ctime=new Date(a.ctime);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},qa(a,b){for(var c of["mode","atime","mtime","ctime"])null!=b[c]&&(a[c]=b[c]);void 0!==b.size&&(b=b.size,a.ja!=b&&(0==b?
(a.ha=null,a.ja=0):(c=a.ha,a.ha=new Uint8Array(b),c&&a.ha.set(c.subarray(0,Math.min(b,a.ja))),a.ja=b)))},lookup(){R.Ma||(R.Ma=new J.ea(44),R.Ma.stack="<generic error, no stack>");throw R.Ma;},za(a,b,c,d){return R.createNode(a,b,c,d)},rename(a,b,c){try{var d=T(b,c)}catch(g){}if(d){if(S(a.mode))for(var e in d.ha)throw new J.ea(55);Dc(d)}delete a.parent.ha[a.name];b.ha[c]=a;a.name=c;b.ctime=b.mtime=a.parent.ctime=a.parent.mtime=Date.now()},unlink(a,b){delete a.ha[b];a.ctime=a.mtime=Date.now()},rmdir(a,
b){var c=T(a,b),d;for(d in c.ha)throw new J.ea(55);delete a.ha[b];a.ctime=a.mtime=Date.now()},readdir(a){return[".","..",...Object.keys(a.ha)]},symlink(a,b,c){a=R.createNode(a,b,41471,0);a.link=c;return a},readlink(a){if(40960!==(a.mode&61440))throw new J.ea(28);return a.link}},ga:{read(a,b,c,d,e){var g=a.node.ha;if(e>=a.node.ja)return 0;a=Math.min(a.node.ja-e,d);if(8<a&&g.subarray)b.set(g.subarray(e,e+a),c);else for(d=0;d<a;d++)b[c+d]=g[e+d];return a},write(a,b,c,d,e,g){b.buffer===(y(),B).buffer&&
(g=!1);if(!d)return 0;a=a.node;a.mtime=a.ctime=Date.now();if(b.subarray&&(!a.ha||a.ha.subarray)){if(g)return a.ha=b.subarray(c,c+d),a.ja=d;if(0===a.ja&&0===e)return a.ha=b.slice(c,c+d),a.ja=d;if(e+d<=a.ja)return a.ha.set(b.subarray(c,c+d),e),d}g=e+d;var h=a.ha?a.ha.length:0;h>=g||(g=Math.max(g,h*(1048576>h?2:1.125)>>>0),0!=h&&(g=Math.max(g,256)),h=a.ha,a.ha=new Uint8Array(g),0<a.ja&&a.ha.set(h.subarray(0,a.ja),0));if(a.ha.subarray&&b.subarray)a.ha.set(b.subarray(c,c+d),e);else for(g=0;g<d;g++)a.ha[e+
g]=b[c+g];a.ja=Math.max(a.ja,e+d);return d},ma(a,b,c){1===c?b+=a.position:2===c&&J.isFile(a.node.mode)&&(b+=a.node.ja);if(0>b)throw new J.ea(28);return b},Da(a,b,c,d,e){if(!J.isFile(a.node.mode))throw new J.ea(43);a=a.node.ha;if(e&2||!a||a.buffer!==(y(),B).buffer){d=!0;e=Cc(b);if(!e)throw new J.ea(48);if(a){if(0<c||c+b<a.length)a.subarray?a=a.subarray(c,c+b):a=Array.prototype.slice.call(a,c,c+b);(y(),B).set(a,e)}}else d=!1,e=a.byteOffset;return{gb:e,Va:d}},Fa(a,b,c,d){R.ga.write(a,b,0,d,c,!1);return 0}}},
Ec=(a,b)=>{var c=0;a&&(c|=365);b&&(c|=146);return c},Fc=async a=>{a=await ma(a);return new Uint8Array(a)},Gc=0,Hc=null,Ic=[],Jc=async(a,b)=>{"undefined"!=typeof Browser&&Ra();for(var c of Ic)if(c.canHandle(b))return c.handle(a,b);return a},Lc=async(a,b,c,d,e,g,h,l)=>{var p=b?oc(jc(a+"/"+b)):a;Gc++;try{var m=c;"string"==typeof c&&(m=await Fc(c));m=await Jc(m,p);l?.();if(!g){c=b;a&&(a="string"==typeof a?a:Kc(a),c=b?jc(a+"/"+b):a);var t=Ec(d,e),n=J.create(c,t);if(m){if("string"==typeof m){var w=Array(m.length);
b=0;for(var C=m.length;b<C;++b)w[b]=m.charCodeAt(b);m=w}J.chmod(n,t|146);var A=J.open(n,577);J.write(A,m,0,m.length,0,h);J.close(A);J.chmod(n,t)}}}finally{Gc--,0==Gc&&Hc&&(h=Hc,Hc=null,h())}};function Ra(){J.Pa=!0;J.symlink("/dev/tty","/dev/stdin");J.symlink("/dev/tty","/dev/stdout");J.symlink("/dev/tty1","/dev/stderr");J.open("/dev/stdin",0);J.open("/dev/stdout",1);J.open("/dev/stderr",1)}function yc(a,b){J.Ya[a]={ga:b}}function S(a){return 16384===(a&61440)}
function T(a,b){var c=S(a.mode)?(c=U(a,"x"))?c:a.fa.lookup?0:2:54;if(c)throw new J.ea(c);for(c=J.sa[Mc(a.id,b)];c;c=c.Ea){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return J.lookup(a,b)}function Dc(a){var b=Mc(a.parent.id,a.name);if(J.sa[b]===a)J.sa[b]=a.Ea;else for(b=J.sa[b];b;){if(b.Ea===a){b.Ea=a.Ea;break}b=b.Ea}}
function V(a,b={}){if(!a)throw new J.ea(44);b.Ia??(b.Ia=!0);"/"===a.charAt(0)||(a=J.cwd()+"/"+a);var c=0;a:for(;40>c;c++){a=a.split("/").filter(l=>!!l);for(var d=J.root,e="/",g=0;g<a.length;g++){var h=g===a.length-1;if(h&&b.parent)break;if("."!==a[g])if(".."===a[g])if(e=kc(e),J.Ra(d)){a=e+"/"+a.slice(g+1).join("/");c--;continue a}else d=d.parent;else{e=jc(e+"/"+a[g]);try{d=T(d,a[g])}catch(l){if(44===l?.la&&h&&b.Bb)return{path:e};throw l;}!d.pa||h&&!b.Ia||(d=d.pa.root);if(40960===(d.mode&61440)&&(!h||
b.na)){if(!d.fa.readlink)throw new J.ea(52);d=d.fa.readlink(d);"/"===d.charAt(0)||(d=kc(e)+"/"+d);a=d+"/"+a.slice(g+1).join("/");continue a}}}return{path:e,node:d}}throw new J.ea(32);}function Kc(a){for(var b;;){if(J.Ra(a))return a=a.ia.fb,b?"/"!==a[a.length-1]?`${a}/${b}`:a+b:a;b=b?`${a.name}/${b}`:a.name;a=a.parent}}function Mc(a,b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%J.sa.length}function Nc(a){var b=Mc(a.parent.id,a.name);a.Ea=J.sa[b];J.sa[b]=a}
function Oc(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b}function U(a,b){if(J.cb)return 0;if(!b.includes("r")||a.mode&292){if(b.includes("w")&&!(a.mode&146)||b.includes("x")&&!(a.mode&73))return 2}else return 2;return 0}function Pc(a,b){if(!S(a.mode))return 54;try{return T(a,b),20}catch(c){}return U(a,"wx")}
function Qc(a,b,c){try{var d=T(a,b)}catch(e){return e.la}if(a=U(a,"wx"))return a;if(c){if(!S(d.mode))return 54;if(J.Ra(d)||Kc(d)===J.cwd())return 10}else if(S(d.mode))return 31;return 0}function Rc(a,b){if(!a)throw new J.ea(b);return a}function W(a){a=J.sb(a);if(!a)throw new J.ea(8);return a}function Sc(a,b=-1){a=Object.assign(new J.lb,a);if(-1==b)a:{for(b=0;b<=J.mb;b++)if(!J.streams[b])break a;throw new J.ea(33);}a.fd=b;return J.streams[b]=a}function Tc(a,b=-1){a=Sc(a,b);a.ga?.Wb?.(a);return a}
function Uc(a,b,c){var d=a?.ga.qa;a=d?a:b;d??=b.fa.qa;Rc(d,63);d(a,c)}function Vc(a){var b=[];for(a=[a];a.length;){var c=a.pop();b.push(c);a.push(...c.Ga)}return b}function Wc(a){var b={Mb:4096,Zb:4096,blocks:1E6,Lb:5E5,Kb:5E5,files:J.Ta,Xb:J.Ta-1,$b:42,flags:2,fc:255};a.fa.hb&&Object.assign(b,a.fa.hb(a.ia.Cb.root));return b}function Xc(a,b,c){"undefined"==typeof c&&(c=b,b=438);return J.za(a,b|8192,c)}function Yc(a,b,c,d){Uc(a,b,{mode:c&4095|b.mode&-4096,ctime:Date.now(),Za:d})}
function Zc(a,b,c){if(S(b.mode))throw new J.ea(31);if(!J.isFile(b.mode))throw new J.ea(28);var d=U(b,"w");if(d)throw new J.ea(d);Uc(a,b,{size:c,timestamp:Date.now()})}function $c(a,b,c,d){a="string"==typeof a?a:Kc(a);b=jc(a+"/"+b);return J.create(b,Ec(c,d))}
function ad(a){if(!(a.yb||a.zb||a.link||a.ha)){if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{a.ha=na(a.url)}catch(b){throw new J.ea(29);}}}
var J={root:null,Ga:[],Ya:{},streams:[],Ta:1,sa:null,Xa:"/",Pa:!1,cb:!0,pb:null,Ja:0,ea:class{name="ErrnoError";constructor(a){this.la=a}},lb:class{ka={};node=null;get object(){return this.node}set object(a){this.node=a}get flags(){return this.ka.flags}set flags(a){this.ka.flags=a}get position(){return this.ka.position}set position(a){this.ka.position=a}},kb:class{fa={};ga={};pa=null;constructor(a,b,c,d){a||=this;this.parent=a;this.ia=a.ia;this.id=J.Ta++;this.name=b;this.mode=c;this.rdev=d;this.atime=
this.mtime=this.ctime=Date.now()}get read(){return 365===(this.mode&365)}set read(a){a?this.mode|=365:this.mode&=-366}get write(){return 146===(this.mode&146)}set write(a){a?this.mode|=146:this.mode&=-147}get zb(){return S(this.mode)}get yb(){return 8192===(this.mode&61440)}},createNode(a,b,c,d){a=new J.kb(a,b,c,d);Nc(a);return a},Ra(a){return a===a.parent},isFile(a){return 32768===(a&61440)},isFIFO(a){return 4096===(a&61440)},isSocket(a){return 49152===(a&49152)},mb:4096,sb:a=>J.streams[a],nb:{open(a){a.ga=
J.rb(a.node.rdev).ga;a.ga.open?.(a)},ma(){throw new J.ea(70);}},Sa:a=>a>>8,dc:a=>a&255,Ca:(a,b)=>a<<8|b,rb:a=>J.Ya[a],ib(a,b){function c(h){J.Ja--;return b(h)}function d(h){if(h){if(!d.ob)return d.ob=!0,c(h)}else++g>=e.length&&c(null)}"function"==typeof a&&(b=a,a=!1);J.Ja++;1<J.Ja&&v(`warning: ${J.Ja} FS.syncfs operations in flight at once, probably just doing extra work`);var e=Vc(J.root.ia),g=0;e.forEach(h=>{if(!h.type.ib)return d(null);h.type.ib(h,a,d)})},ia(a,b,c){var d="/"===c;if(d&&J.root)throw new J.ea(10);
if(!d&&c){var e=V(c,{Ia:!1});c=e.path;e=e.node;if(e.pa)throw new J.ea(10);if(!S(e.mode))throw new J.ea(54);}b={type:a,Cb:b,fb:c,Ga:[]};a=a.ia(b);a.ia=b;b.root=a;d?J.root=a:e&&(e.pa=b,e.ia&&e.ia.Ga.push(b));return a},mc(a){a=V(a,{Ia:!1});if(!a.node.pa)throw new J.ea(28);a=a.node;var b=a.pa,c=Vc(b);Object.keys(J.sa).forEach(d=>{for(d=J.sa[d];d;){var e=d.Ea;c.includes(d.ia)&&Dc(d);d=e}});a.pa=null;a.ia.Ga.splice(a.ia.Ga.indexOf(b),1)},lookup(a,b){return a.fa.lookup(a,b)},za(a,b,c){var d=V(a,{parent:!0}).node;
a=Q(a);if(!a)throw new J.ea(28);if("."===a||".."===a)throw new J.ea(20);var e=Pc(d,a);if(e)throw new J.ea(e);if(!d.fa.za)throw new J.ea(63);return d.fa.za(d,a,b,c)},hb(a){return Wc(V(a,{na:!0}).node)},jc(a){return Wc(a.node)},create(a,b=438){return J.za(a,b&4095|32768,0)},mkdir(a,b=511){return J.za(a,b&1023|16384,0)},ec(a,b){var c=a.split("/"),d="",e;for(e of c)if(e){if(d||"/"===a.charAt(0))d+="/";d+=e;try{J.mkdir(d,b)}catch(g){if(20!=g.la)throw g;}}},symlink(a,b){if(!oc(a))throw new J.ea(44);var c=
V(b,{parent:!0}).node;if(!c)throw new J.ea(44);b=Q(b);var d=Pc(c,b);if(d)throw new J.ea(d);if(!c.fa.symlink)throw new J.ea(63);return c.fa.symlink(c,b,a)},rename(a,b){var c=kc(a),d=kc(b),e=Q(a),g=Q(b);var h=V(a,{parent:!0});var l=h.node;h=V(b,{parent:!0});h=h.node;if(!l||!h)throw new J.ea(44);if(l.ia!==h.ia)throw new J.ea(75);var p=T(l,e);a=pc(a,d);if("."!==a.charAt(0))throw new J.ea(28);a=pc(b,c);if("."!==a.charAt(0))throw new J.ea(55);try{var m=T(h,g)}catch(t){}if(p!==m){b=S(p.mode);if(e=Qc(l,e,
b))throw new J.ea(e);if(e=m?Qc(h,g,b):Pc(h,g))throw new J.ea(e);if(!l.fa.rename)throw new J.ea(63);if(p.pa||m&&m.pa)throw new J.ea(10);if(h!==l&&(e=U(l,"w")))throw new J.ea(e);Dc(p);try{l.fa.rename(p,h,g),p.parent=h}catch(t){throw t;}finally{Nc(p)}}},rmdir(a){var b=V(a,{parent:!0}).node;a=Q(a);var c=T(b,a),d=Qc(b,a,!0);if(d)throw new J.ea(d);if(!b.fa.rmdir)throw new J.ea(63);if(c.pa)throw new J.ea(10);b.fa.rmdir(b,a);Dc(c)},readdir(a){a=V(a,{na:!0}).node;return Rc(a.fa.readdir,54)(a)},unlink(a){var b=
V(a,{parent:!0}).node;if(!b)throw new J.ea(44);a=Q(a);var c=T(b,a),d=Qc(b,a,!1);if(d)throw new J.ea(d);if(!b.fa.unlink)throw new J.ea(63);if(c.pa)throw new J.ea(10);b.fa.unlink(b,a);Dc(c)},readlink(a){a=V(a).node;if(!a)throw new J.ea(44);if(!a.fa.readlink)throw new J.ea(28);return a.fa.readlink(a)},stat(a,b){a=V(a,{na:!b}).node;return Rc(a.fa.oa,63)(a)},fstat(a){var b=W(a);a=b.node;var c=b.ga.oa;b=c?b:a;c??=a.fa.oa;Rc(c,63);return c(b)},lstat(a){return J.stat(a,!0)},chmod(a,b,c){a="string"==typeof a?
V(a,{na:!c}).node:a;Yc(null,a,b,c)},lchmod(a,b){J.chmod(a,b,!0)},fchmod(a,b){a=W(a);Yc(a,a.node,b,!1)},chown(a,b,c,d){a="string"==typeof a?V(a,{na:!d}).node:a;Uc(null,a,{timestamp:Date.now(),Za:d})},lchown(a,b,c){J.chown(a,b,c,!0)},fchown(a){a=W(a);Uc(a,a.node,{timestamp:Date.now(),Za:!1})},truncate(a,b){if(0>b)throw new J.ea(28);a="string"==typeof a?V(a,{na:!0}).node:a;Zc(null,a,b)},ac(a,b){a=W(a);if(0>b||0===(a.flags&2097155))throw new J.ea(28);Zc(a,a.node,b)},nc(a,b,c){a=V(a,{na:!0}).node;Rc(a.fa.qa,
63)(a,{atime:b,mtime:c})},open(a,b,c=438){if(""===a)throw new J.ea(44);if("string"==typeof b){var d={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[b];if("undefined"==typeof d)throw Error(`Unknown file open mode: ${b}`);b=d}c=b&64?c&4095|32768:0;if("object"==typeof a)d=a;else{var e=a.endsWith("/");a=V(a,{na:!(b&131072),Bb:!0});d=a.node;a=a.path}var g=!1;if(b&64)if(d){if(b&128)throw new J.ea(20);}else{if(e)throw new J.ea(31);d=J.za(a,c|511,0);g=!0}if(!d)throw new J.ea(44);8192===(d.mode&61440)&&(b&=-513);
if(b&65536&&!S(d.mode))throw new J.ea(54);if(!g&&(e=d?40960===(d.mode&61440)?32:S(d.mode)&&("r"!==Oc(b)||b&576)?31:U(d,Oc(b)):44))throw new J.ea(e);b&512&&!g&&J.truncate(d,0);b&=-131713;b=Sc({node:d,path:Kc(d),flags:b,seekable:!0,position:0,ga:d.ga,Gb:[],error:!1});b.ga.open&&b.ga.open(b);g&&J.chmod(d,c&511);return b},close(a){if(null===a.fd)throw new J.ea(8);a.Oa&&(a.Oa=null);try{a.ga.close&&a.ga.close(a)}catch(b){throw b;}finally{J.streams[a.fd]=null}a.fd=null},ma(a,b,c){if(null===a.fd)throw new J.ea(8);
if(!a.seekable||!a.ga.ma)throw new J.ea(70);if(0!=c&&1!=c&&2!=c)throw new J.ea(28);a.position=a.ga.ma(a,b,c);a.Gb=[];return a.position},read(a,b,c,d,e){if(0>d||0>e)throw new J.ea(28);if(null===a.fd)throw new J.ea(8);if(1===(a.flags&2097155))throw new J.ea(8);if(S(a.node.mode))throw new J.ea(31);if(!a.ga.read)throw new J.ea(28);var g="undefined"!=typeof e;if(!g)e=a.position;else if(!a.seekable)throw new J.ea(70);b=a.ga.read(a,b,c,d,e);g||(a.position+=b);return b},write(a,b,c,d,e,g){if(0>d||0>e)throw new J.ea(28);
if(null===a.fd)throw new J.ea(8);if(0===(a.flags&2097155))throw new J.ea(8);if(S(a.node.mode))throw new J.ea(31);if(!a.ga.write)throw new J.ea(28);a.seekable&&a.flags&1024&&J.ma(a,0,2);var h="undefined"!=typeof e;if(!h)e=a.position;else if(!a.seekable)throw new J.ea(70);b=a.ga.write(a,b,c,d,e,g);h||(a.position+=b);return b},Da(a,b,c,d,e){if(0!==(d&2)&&0===(e&2)&&2!==(a.flags&2097155))throw new J.ea(2);if(1===(a.flags&2097155))throw new J.ea(2);if(!a.ga.Da)throw new J.ea(43);if(!b)throw new J.ea(28);
return a.ga.Da(a,b,c,d,e)},Fa(a,b,c,d,e){return a.ga.Fa?a.ga.Fa(a,b,c,d,e):0},Qa(a,b,c){if(!a.ga.Qa)throw new J.ea(59);return a.ga.Qa(a,b,c)},readFile(a,b={}){b.flags=b.flags||0;b.encoding=b.encoding||"binary";if("utf8"!==b.encoding&&"binary"!==b.encoding)throw Error(`Invalid encoding type "${b.encoding}"`);var c=J.open(a,b.flags);a=J.stat(a).size;var d=new Uint8Array(a);J.read(c,d,0,a,0);"utf8"===b.encoding&&(d=rc(d));J.close(c);return d},writeFile(a,b,c={}){c.flags=c.flags||577;a=J.open(a,c.flags,
c.mode);"string"==typeof b&&(b=new Uint8Array(vc(b)));if(ArrayBuffer.isView(b))J.write(a,b,0,b.byteLength,void 0,c.Sb);else throw Error("Unsupported data type");J.close(a)},cwd:()=>J.Xa,chdir(a){a=V(a,{na:!0});if(null===a.node)throw new J.ea(44);if(!S(a.node.mode))throw new J.ea(54);var b=U(a.node,"x");if(b)throw new J.ea(b);J.Xa=a.path},ic(){J.Pa=!1;for(var a of J.streams)a&&J.close(a)},Yb(a,b){try{var c=V(a,{na:!b});a=c.path}catch(g){}var d=!1,e=null;try{c=V(a,{parent:!0}),Q(a),c=V(a,{na:!b}),d=
!0,e=c.node}catch(g){}return d?e:null},Ub(a,b){a="string"==typeof a?a:Kc(a);for(b=b.split("/").reverse();b.length;){var c=b.pop();if(c){var d=jc(a+"/"+c);try{J.mkdir(d)}catch(e){if(20!=e.la)throw e;}a=d}}return d},Ha(a,b,c,d){a=lc("string"==typeof a?a:Kc(a),b);b=Ec(!!c,!!d);var e;(e=J.Ha).Sa??(e.Sa=64);e=J.Ca(J.Ha.Sa++,0);yc(e,{open(g){g.seekable=!1},close(){d?.buffer?.length&&d(10)},read(g,h,l,p){for(var m=0,t=0;t<p;t++){try{var n=c()}catch(w){throw new J.ea(29);}if(void 0===n&&0===m)throw new J.ea(6);
if(null===n||void 0===n)break;m++;h[l+t]=n}m&&(g.node.atime=Date.now());return m},write(g,h,l,p){for(var m=0;m<p;m++)try{d(h[l+m])}catch(t){throw new J.ea(29);}p&&(g.node.mtime=g.node.ctime=Date.now());return m}});return Xc(a,b,e)},Tb(a,b,c,d,e){function g(n,w,C,A,F){n=n.node.ha;if(F>=n.length)return 0;A=Math.min(n.length-F,A);if(n.slice)for(var D=0;D<A;D++)w[C+D]=n[F+D];else for(D=0;D<A;D++)w[C+D]=n.get(F+D);return A}class h{Na=!1;ka=[];Ba=void 0;bb=0;ab=0;get(n){if(!(n>this.length-1||0>n)){var w=
n%this.chunkSize;return this.Ba(n/this.chunkSize|0)[w]}}Ab(n){this.Ba=n}eb(){var n=new XMLHttpRequest;n.open("HEAD",c,!1);n.send(null);if(!(200<=n.status&&300>n.status||304===n.status))throw Error("Couldn't load "+c+". Status: "+n.status);var w=Number(n.getResponseHeader("Content-length")),C,A=(C=n.getResponseHeader("Accept-Ranges"))&&"bytes"===C;n=(C=n.getResponseHeader("Content-Encoding"))&&"gzip"===C;var F=1048576;A||(F=w);var D=this;D.Ab(ea=>{var ra=ea*F,fa=(ea+1)*F-1;fa=Math.min(fa,w-1);if("undefined"==
typeof D.ka[ea]){var pd=D.ka;if(ra>fa)throw Error("invalid range ("+ra+", "+fa+") or no bytes requested!");if(fa>w-1)throw Error("only "+w+" bytes available! programmer error!");var I=new XMLHttpRequest;I.open("GET",c,!1);w!==F&&I.setRequestHeader("Range","bytes="+ra+"-"+fa);I.responseType="arraybuffer";I.overrideMimeType&&I.overrideMimeType("text/plain; charset=x-user-defined");I.send(null);if(!(200<=I.status&&300>I.status||304===I.status))throw Error("Couldn't load "+c+". Status: "+I.status);ra=
void 0!==I.response?new Uint8Array(I.response||[]):vc(I.responseText||"");pd[ea]=ra}if("undefined"==typeof D.ka[ea])throw Error("doXHR failed!");return D.ka[ea]});if(n||!w)F=w=1,F=w=this.Ba(0).length,ua("LazyFiles on gzip forces download of the whole file when length is accessed");this.bb=w;this.ab=F;this.Na=!0}get length(){this.Na||this.eb();return this.bb}get chunkSize(){this.Na||this.eb();return this.ab}}if("undefined"!=typeof XMLHttpRequest){if(!k)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";
var l=new h;var p=void 0}else p=c,l=void 0;var m=$c(a,b,d,e);l?m.ha=l:p&&(m.ha=null,m.url=p);Object.defineProperties(m,{ja:{get:function(){return this.ha.length}}});var t={};Object.keys(m.ga).forEach(n=>{var w=m.ga[n];t[n]=(...C)=>{ad(m);return w(...C)}});t.read=(n,w,C,A,F)=>{ad(m);return g(n,w,C,A,F)};t.Da=(n,w,C)=>{ad(m);var A=Cc(w);if(!A)throw new J.ea(48);g(n,(y(),B),A,w,C);return{gb:A,Va:!0}};m.ga=t;return m}},hc=void 0;
function $a(a,b,c){if(r)return O(3,1,a,b,c);hc=c;try{var d=W(a);switch(b){case 0:var e=P();if(0>e)break;for(;J.streams[e];)e++;return Tc(d,e).fd;case 1:case 2:return 0;case 3:return d.flags;case 4:return e=P(),d.flags|=e,0;case 12:return e=P(),(y(),Na)[e+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(g){if("undefined"==typeof J||"ErrnoError"!==g.name)throw g;return-g.la}}
function ab(a,b){if(r)return O(4,1,a,b);try{var c=J.fstat(a);(y(),G)[b>>2]=c.dev;(y(),G)[b+4>>2]=c.mode;(y(),G)[b+8>>2]=c.nlink;(y(),G)[b+12>>2]=c.uid;(y(),G)[b+16>>2]=c.gid;(y(),G)[b+20>>2]=c.rdev;(y(),H)[b+24>>3]=BigInt(c.size);(y(),E)[b+32>>2]=4096;(y(),E)[b+36>>2]=c.blocks;var d=c.atime.getTime(),e=c.mtime.getTime(),g=c.ctime.getTime();(y(),H)[b+40>>3]=BigInt(Math.floor(d/1E3));(y(),G)[b+48>>2]=d%1E3*1E6;(y(),H)[b+56>>3]=BigInt(Math.floor(e/1E3));(y(),G)[b+64>>2]=e%1E3*1E6;(y(),H)[b+72>>3]=BigInt(Math.floor(g/
1E3));(y(),G)[b+80>>2]=g%1E3*1E6;(y(),H)[b+88>>3]=BigInt(c.ino);return 0}catch(h){if("undefined"==typeof J||"ErrnoError"!==h.name)throw h;return-h.la}}
function bb(a,b,c){if(r)return O(5,1,a,b,c);hc=c;try{var d=W(a);switch(b){case 21509:return d.tty?0:-59;case 21505:if(!d.tty)return-59;if(d.tty.Aa.vb){a=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var e=P();(y(),E)[e>>2]=25856;(y(),E)[e+4>>2]=5;(y(),E)[e+8>>2]=191;(y(),E)[e+12>>2]=35387;for(var g=0;32>g;g++)(y(),B)[e+g+17]=a[g]||0}return 0;case 21510:case 21511:case 21512:return d.tty?0:-59;case 21506:case 21507:case 21508:if(!d.tty)return-59;if(d.tty.Aa.wb)for(e=
P(),y(),y(),y(),y(),a=[],g=0;32>g;g++)a.push((y(),B)[e+g+17]);return 0;case 21519:if(!d.tty)return-59;e=P();return(y(),E)[e>>2]=0;case 21520:return d.tty?-28:-59;case 21537:case 21531:return e=P(),J.Qa(d,b,e);case 21523:if(!d.tty)return-59;d.tty.Aa.xb&&(g=[24,80],e=P(),(y(),Na)[e>>1]=g[0],(y(),Na)[e+2>>1]=g[1]);return 0;case 21524:return d.tty?0:-59;case 21515:return d.tty?0:-59;default:return-28}}catch(h){if("undefined"==typeof J||"ErrnoError"!==h.name)throw h;return-h.la}}
function cb(a,b,c,d){if(r)return O(6,1,a,b,c,d);hc=d;try{var e=b;b=e?rc((y(),Ma),e):"";e=b;if("/"===e.charAt(0))b=e;else{var g=-100===a?J.cwd():W(a).path;if(0==e.length)throw new J.ea(44);b=g+"/"+e}var h=d?P():0;return J.open(b,c,h).fd}catch(l){if("undefined"==typeof J||"ErrnoError"!==l.name)throw l;return-l.la}}
var db=()=>Sa(""),eb=a=>{Ga(a,!k,1,!aa,65536,!1);Ha()},bd=a=>{a instanceof Zb||"unwind"==a||ka(1,a)},fc=a=>{if(!x)try{if(a(),!(0<N))try{r?Hb()&&Nb(wa):yb(wa)}catch(b){bd(b)}}catch(b){bd(b)}},Ia=a=>{"function"===typeof Atomics.Hb&&(Atomics.Hb((y(),E),a>>2,a).value.then(Ka),a+=128,Atomics.store((y(),E),a>>2,1))},Ka=()=>fc(()=>{var a=Hb();a&&(Ia(a),Pb())}),fb=(a,b)=>{a==b?setTimeout(Ka):r?postMessage({Ka:a,ra:"checkMailbox"}):(a=M[a])&&a.postMessage({ra:"checkMailbox"})},cd=[],gb=(a,b,c,d,e)=>{d/=2;
cd.length=d;b=e>>3;for(c=0;c<d;c++)(y(),H)[b+2*c]?cd[c]=(y(),H)[b+2*c+1]:cd[c]=(y(),Oa)[b+2*c+1];return(0,dd[a])(...cd)},hb=()=>{N=0},ib=a=>{r?postMessage({ra:"cleanupThread",Fb:a}):ec(M[a])},jb=a=>{q&&M[a].ref()};function kb(a,b,c,d,e,g,h){if(r)return O(7,1,a,b,c,d,e,g,h);e=-9007199254740992>e||9007199254740992<e?NaN:Number(e);try{var l=W(d),p=J.Da(l,a,e,b,c),m=p.gb;(y(),E)[g>>2]=p.Va;(y(),G)[h>>2]=m;return 0}catch(t){if("undefined"==typeof J||"ErrnoError"!==t.name)throw t;return-t.la}}
function lb(a,b,c,d,e,g){if(r)return O(8,1,a,b,c,d,e,g);g=-9007199254740992>g||9007199254740992<g?NaN:Number(g);try{var h=W(e);if(c&2){c=g;if(!J.isFile(h.node.mode))throw new J.ea(43);if(!(d&2)){var l=(y(),Ma).slice(a,a+b);J.Fa(h,l,c,b,d)}}}catch(p){if("undefined"==typeof J||"ErrnoError"!==p.name)throw p;return-p.la}}var ed={},sb=()=>performance.timeOrigin+performance.now();
function mb(a,b){if(r)return O(9,1,a,b);ed[a]&&(clearTimeout(ed[a].id),delete ed[a]);if(!b)return 0;var c=setTimeout(()=>{delete ed[a];fc(()=>Ob(a,performance.timeOrigin+performance.now()))},b);ed[a]={id:c,kc:b};return 0}
var X=(a,b,c)=>uc(a,(y(),Ma),b,c),nb=(a,b,c,d)=>{var e=(new Date).getFullYear(),g=(new Date(e,0,1)).getTimezoneOffset();e=(new Date(e,6,1)).getTimezoneOffset();var h=Math.max(g,e);(y(),G)[a>>2]=60*h;(y(),E)[b>>2]=Number(g!=e);b=l=>{var p=Math.abs(l);return`UTC${0<=l?"-":"+"}${String(Math.floor(p/60)).padStart(2,"0")}${String(p%60).padStart(2,"0")}`};a=b(g);b=b(e);e<g?(X(a,c,17),X(b,d,17)):(X(a,d,17),X(b,c,17))},fd=1;
function ob(a,b,c){if(!(0<=a&&3>=a))return 28;if(0===a)a=Date.now();else if(fd)a=performance.timeOrigin+performance.now();else return 52;a=Math.round(1E6*a);(y(),H)[c>>3]=BigInt(a);return 0}var pb=()=>{},qb=()=>{N+=1;throw"unwind";};function rb(a){if(r)return O(10,1,a);N=0;yb(a)}
var tb=a=>{var b=(y(),Ma).length;a>>>=0;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);a:{d=(Math.min(2147483648,65536*Math.ceil(Math.max(a,d)/65536))-z.buffer.byteLength+65535)/65536|0;try{z.grow(d);xa();var e=1;break a}catch(g){}e=void 0}if(e)return!0}return!1},gd={},jd=()=>{if(!hd){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",
_:ja||"./this.program"},b;for(b in gd)void 0===gd[b]?delete a[b]:a[b]=gd[b];var c=[];for(b in a)c.push(`${b}=${a[b]}`);hd=c}return hd},hd;function wb(a,b){if(r)return O(11,1,a,b);var c=0,d=0,e;for(e of jd()){var g=b+c;(y(),G)[a+d>>2]=g;c+=X(e,g,Infinity)+1;d+=4}return 0}function xb(a,b){if(r)return O(12,1,a,b);var c=jd();(y(),G)[a>>2]=c.length;a=0;for(var d of c)a+=tc(d)+1;(y(),G)[b>>2]=a;return 0}
function zb(a){if(r)return O(13,1,a);try{var b=W(a);J.close(b);return 0}catch(c){if("undefined"==typeof J||"ErrnoError"!==c.name)throw c;return c.la}}function Ab(a,b,c,d){if(r)return O(14,1,a,b,c,d);try{a:{var e=W(a);a=b;for(var g,h=b=0;h<c;h++){var l=(y(),G)[a>>2],p=(y(),G)[a+4>>2];a+=8;var m=J.read(e,(y(),B),l,p,g);if(0>m){var t=-1;break a}b+=m;if(m<p)break;"undefined"!=typeof g&&(g+=m)}t=b}(y(),G)[d>>2]=t;return 0}catch(n){if("undefined"==typeof J||"ErrnoError"!==n.name)throw n;return n.la}}
function Bb(a,b,c,d){if(r)return O(15,1,a,b,c,d);b=-9007199254740992>b||9007199254740992<b?NaN:Number(b);try{if(isNaN(b))return 61;var e=W(a);J.ma(e,b,c);(y(),H)[d>>3]=BigInt(e.position);e.Oa&&0===b&&0===c&&(e.Oa=null);return 0}catch(g){if("undefined"==typeof J||"ErrnoError"!==g.name)throw g;return g.la}}
function Cb(a,b,c,d){if(r)return O(16,1,a,b,c,d);try{a:{var e=W(a);a=b;for(var g,h=b=0;h<c;h++){var l=(y(),G)[a>>2],p=(y(),G)[a+4>>2];a+=8;var m=J.write(e,(y(),B),l,p,g);if(0>m){var t=-1;break a}b+=m;if(m<p)break;"undefined"!=typeof g&&(g+=m)}t=b}(y(),G)[d>>2]=t;return 0}catch(n){if("undefined"==typeof J||"ErrnoError"!==n.name)throw n;return n.la}}var kd=a=>{try{a()}catch(b){Sa(b)}};
function Eb(a){var b=(...c)=>{ld.push(a);try{return a(...c)}finally{x||(ld.pop(),Y&&1===Z&&0===ld.length&&(Z=0,N+=1,kd(Wb),"undefined"!=typeof Fibers&&Fibers.lc()))}};md.set(a,b);return b}var Z=0,Y=null,nd=0,ld=[],od=new Map,qd=new Map,md=new Map,rd=0,sd=null,td=[];function ud(){var a=Kb(4108),b=a+12;(y(),G)[a>>2]=b;(y(),G)[a+4>>2]=b+4096;b=ld[0];if(!od.has(b)){var c=rd++;od.set(b,c);qd.set(c,b)}b=od.get(b);(y(),E)[a+8>>2]=b;return a}
function vd(){var a=(y(),E)[Y+8>>2];a=qd.get(a);a=md.get(a);--N;return a()}
function wd(a){if(!x){if(0===Z){var b=!1,c=!1;a((d=0)=>{if(!x&&(nd=d,b=!0,c)){Z=2;kd(()=>Xb(Y));"undefined"!=typeof MainLoop&&MainLoop.qb&&MainLoop.resume();d=!1;try{var e=vd()}catch(l){e=l,d=!0}var g=!1;if(!Y){var h=sd;h&&(sd=null,(d?h.reject:h.resolve)(e),g=!0)}if(d&&!g)throw e;}});c=!0;b||(Z=1,Y=ud(),"undefined"!=typeof MainLoop&&MainLoop.qb&&MainLoop.pause(),kd(()=>Vb(Y)))}else 2===Z?(Z=0,kd(Yb),Gb(Y),Y=null,td.forEach(fc)):Sa(`invalid state: ${Z}`);return nd}}var xd=a=>wd(b=>{a().then(b)});
J.Vb=(a,b,c,d,e,g,h,l,p,m)=>{Lc(a,b,c,d,e,l,p,m).then(g).catch(h)};J.hc=Lc;J.sa=Array(4096);J.ia(R,{},"/");J.mkdir("/tmp");J.mkdir("/home");J.mkdir("/home/web_user");
(function(){J.mkdir("/dev");yc(J.Ca(1,3),{read:()=>0,write:(d,e,g,h)=>h,ma:()=>0});Xc("/dev/null",J.Ca(1,3));xc(J.Ca(5,0),Ac);xc(J.Ca(6,0),Bc);Xc("/dev/tty",J.Ca(5,0));Xc("/dev/tty1",J.Ca(6,0));var a=new Uint8Array(1024),b=0,c=()=>{0===b&&(nc(a),b=a.byteLength);return a[--b]};J.Ha("/dev","random",c);J.Ha("/dev","urandom",c);J.mkdir("/dev/shm");J.mkdir("/dev/shm/tmp")})();
(function(){J.mkdir("/proc");var a=J.mkdir("/proc/self");J.mkdir("/proc/self/fd");J.ia({ia(){var b=J.createNode(a,"fd",16895,73);b.ga={ma:R.ga.ma};b.fa={lookup(c,d){c=+d;var e=W(c);c={parent:null,ia:{fb:"fake"},fa:{readlink:()=>e.path},id:c+1};return c.parent=c},readdir(){return Array.from(J.streams.entries()).filter(([,c])=>c).map(([c])=>c.toString())}};return b}},{},"/proc/self/fd")})();J.pb={MEMFS:R};r||(z=new WebAssembly.Memory({initial:2048,maximum:32768,shared:!0}),xa());f.FS=J;
var dd=[Db,dc,gc,$a,ab,bb,cb,kb,lb,mb,rb,wb,xb,zb,Ab,Bb,Cb];function vb(){return xd(async()=>{const a=await f.queue.get(),b=tc(a)+1,c=Kb(b);X(a,c,b);return c})}var Gb,Hb,Ib,Jb,Ga,La,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,dynCall_vi,dynCall_iii,dynCall_v,dynCall_vii,Vb,Wb,Xb,Yb,Ya;function yd(a=[]){var b=Jb;N+=1;a.unshift(ja);var c=a.length,d=Sb(4*(c+1)),e=d;a.forEach(h=>{var l=(y(),G),p=e>>2,m=tc(h)+1,t=Sb(m);X(h,t,m);l[p]=t;e+=4});(y(),G)[e>>2]=0;try{var g=b(c,d);yb(g,!0)}catch(h){bd(h)}}
function Ea(a=ia){if(0<Gc)Hc=Ea;else if(r)ya?.(f),Qa();else{for(var b=ac;0<b.length;)b.shift()(f);0<Gc?Hc=Ea:(f.calledRun=!0,x||(Qa(),ya?.(f),yd(a)))}}var K;r||(K=await (Da()),Ea());Pa?moduleRtn=f:moduleRtn=new Promise((a,b)=>{ya=a;za=b});
;return moduleRtn}})();if(typeof exports==="object"&&typeof module==="object"){module.exports=Stockfish;module.exports.default=Stockfish}else if(typeof define==="function"&&define["amd"])define([],()=>Stockfish);var isPthread=globalThis.self?.name?.startsWith("em-pthread");var isNode=typeof process=="object"&&process.versions?.node&&process.type!="renderer";if(isNode)isPthread=require("worker_threads").workerData==="em-pthread";isPthread&&Stockfish();
